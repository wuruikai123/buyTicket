import{d as B,a as d,bL as D,g as R,c as o,b as s,w as m,bH as y,F as _,b4 as p,bs as g,e as V,u as Y,o as a,t as l,_ as C}from"./index-hxIbAW9c.js";import{l as M}from"./orders-_NP1vodq.js";import"./request-BZuMAQw0.js";const N={class:"page"},U={class:"filters"},A=["value"],L=["value"],S=["value"],T={class:"list"},E={key:0,class:"empty-state"},H={class:"line bold"},I={class:"line"},j={class:"line"},q={class:"line"},z={class:"line"},G=B({__name:"Records",setup(J){const h=Y(),n=new Date,k=[n.getFullYear()-1,n.getFullYear(),n.getFullYear()+1],w=Array.from({length:12},(r,t)=>t+1),F=Array.from({length:31},(r,t)=>t+1),i=d(n.getFullYear()),u=d(n.getMonth()+1),c=d(n.getDate()),v=d([]),b=d(!1),f=async()=>{b.value=!0;try{const r=await M(i.value,u.value,c.value);v.value=r}catch(r){console.error("åŠ è½½è®°å½•å¤±è´¥:",r),v.value=[]}finally{b.value=!1}};D([i,u,c],()=>{f()}),R(()=>{f()});function x(){h.back()}return(r,t)=>(a(),o("div",N,[s("header",{class:"topbar"},[s("button",{class:"back","aria-label":"è¿”å›",onClick:x},"â€¹"),t[3]||(t[3]=s("div",{class:"spacer"},null,-1))]),s("div",U,[m(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e)},[(a(),o(_,null,p(k,e=>s("option",{key:e,value:e},l(e)+"å¹´",9,A)),64))],512),[[y,i.value,void 0,{number:!0}]]),m(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e)},[(a(!0),o(_,null,p(g(w),e=>(a(),o("option",{key:e,value:e},l(e)+"æœˆ",9,L))),128))],512),[[y,u.value,void 0,{number:!0}]]),m(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>c.value=e)},[(a(!0),o(_,null,p(g(F),e=>(a(),o("option",{key:e,value:e},l(e)+"æ—¥",9,S))),128))],512),[[y,c.value,void 0,{number:!0}]])]),t[5]||(t[5]=s("div",{class:"divider"},null,-1)),s("div",T,[v.value.length===0?(a(),o("div",E,[...t[4]||(t[4]=[s("div",{class:"empty-icon"},"ğŸ“‹",-1),s("div",{class:"empty-text"},"è¯¥æ—¥æœŸæš‚æ— æ ¸é”€è®°å½•",-1)])])):V("",!0),(a(!0),o(_,null,p(v.value,e=>(a(),o("div",{key:e.id,class:"card"},[s("div",H,l(e.exhibition),1),s("div",I,"æœ‰æ•ˆæ—¶é—´ï¼š"+l(e.validTime),1),s("div",j,"è´­ä¹°è´¦å·ï¼š"+l(e.buyer),1),s("div",q,"æ ¸é”€æ—¶é—´ï¼š"+l(e.verifyTime||"å¾…æ ¸é”€"),1),s("div",z,"è®¢å•å·ç ï¼š"+l(e.orderNo),1)]))),128))])]))}}),Q=C(G,[["__scopeId","data-v-d973c3d6"]]);export{Q as default};
